#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro Duplicate_Waves_from_textref()pDuplicate_Waves_from_textref()proc pDuplicate_Waves_from_textref(str_input,str_output)string str_inputprompt str_input "input list (textwave) ?"string str_outputprompt str_output "output waves ?"silent 1pauseupdatevariable/g var_index = 0do	if(exists($str_input[var_index]) == 1)		duplicate/o $($str_input[var_index]) $($str_input[var_index]+"_"+str_output)	else		print stringfromlist(0,sortlist(wavelist($str_input[var_index],";",""),";",16))		duplicate/o $stringfromlist(0,sortlist(wavelist($str_input[var_index],";",""),";",16)) $(stringfromlist(0,sortlist(wavelist($str_input[var_index],";",""),";",16))+"_"+str_output)		print stringfromlist(0,sortlist(wavelist($str_input[var_index],";",""),";",16))+"_"+str_output	endif	var_index+=1while(var_index<numpnts($str_input))resumeupdateend