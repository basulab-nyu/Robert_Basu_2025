#pragma rtGlobals=1Macro concatenate_matrices_to_vector()pconcatenate_matrices_to_vector()proc pconcatenate_matrices_to_vector(str_input,str_output)string str_inputprompt str_input "input waves ?"string str_outputprompt str_output "output wave ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")variable var_indexvariable var_index1variable var_index2variable var_szmake/o/n=0 $str_outputvar_index = 0do	var_index1 = 0	do		var_sz = dimsize($str_output,0)		duplicate/o/r=[][var_index1] $stringfromlist(var_index,str_list) tempwave		redimension/n=-1 tempwave		concatenate/np {tempwave},$str_output		var_index2 = 0		do			setdimlabel 0,var_sz+var_index2,$(stringfromlist(var_index,str_list)+"_c"+num2str(var_index1)+"r"+num2str(var_index2)),$str_output			var_index2+=1		while(var_index2<dimsize(tempwave,0))		var_index1+=1	while(var_index1<dimsize($stringfromlist(var_index,str_list),1))	var_index+=1while(var_index<itemsinlist(str_list))killwaves/z tempwaveend