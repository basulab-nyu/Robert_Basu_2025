#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro Average_Waves_from_2Dtextref()pAverage_Waves_from_2Dtextref()proc pAverage_Waves_from_2Dtextref(str_input)string str_inputprompt str_input "input list (textwave) ?"silent 1pauseupdatevariable/g var_index = 0do	string/g str_group = ""	variable/g var_scroll = 0	do		if(strlen($str_input[var_index][var_scroll])>0)			str_group = addlistitem($str_input[var_index][var_scroll],str_group)		endif		var_scroll+=1	while(var_scroll<dimsize($str_input,1))	string/g str_name = $str_input[var_index][0]	print str_group	fwaveaverage(str_group,"",3,0,str_name+"_avg",str_name+"_sem")	var_index+=1while(var_index<dimsize($str_input,0))resumeupdateend