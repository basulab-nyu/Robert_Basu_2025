#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro NaNto0_NUMto1_Matrix()pNaNto0_NUMto1_Matrix()proc pNaNto0_NUMto1_Matrix(str_input,str_output)string str_inputprompt str_input "input waves ?"string str_outputprompt str_output "output waves ?"string str_list_input = sortlist (wavelist(str_input,";",""),";",16)string str_list_input_print = sortlist (wavelist(str_input,"\r",""),"\r",16)print str_list_input_printvariable/g var_index = 0dosilent 1	string/g str_waves = stringfromlist(var_index,str_list_input)	duplicate/o $str_waves $(nameofwave($str_waves)+"_"+str_output)	variable/g var_scroll_x = 0	do		variable/g var_scroll_y = 0		do			if (numtype($(nameofwave($str_waves)+"_"+str_output)[var_scroll_x][var_scroll_y]) == 2)				$(nameofwave($str_waves)+"_"+str_output)[var_scroll_x][var_scroll_y] = 0			else				$(nameofwave($str_waves)+"_"+str_output)[var_scroll_x][var_scroll_y] = 1			endif		var_scroll_y+=1		while(var_scroll_y < dimsize($str_waves,1))	var_scroll_x+=1	while (var_scroll_x < dimsize($str_waves,0))var_index+=1while (var_index < itemsinlist(str_list_input))beepend