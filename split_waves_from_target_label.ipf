#pragma rtGlobals=1Macro split_waves_from_target_label()psplit_waves_from_target_label()proc psplit_waves_from_target_label(str_input,str_lbl)string str_inputprompt str_input "input waves ?"string str_lblprompt str_lbl "input_label ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")string str_relbl = str_lbl[strsearch(str_lbl,"*",0)+1,strsearch(str_lbl,"*",strlen(str_lbl),1)-1]variable var_index = 0variable var_index1do	make/o/n=0 $(stringfromlist(var_index,str_list)+str_relbl)	var_index1 = 0	do		if(stringmatch(getdimlabel($stringfromlist(var_index,str_list),0,var_index1),str_lbl) == 1)			redimension/n=(numpnts($(stringfromlist(var_index,str_list)+str_relbl))+1) $(stringfromlist(var_index,str_list)+str_relbl)			$(stringfromlist(var_index,str_list)+str_relbl)[numpnts($(stringfromlist(var_index,str_list)+str_relbl))-1] = $stringfromlist(var_index,str_list)[var_index1]			setdimlabel 0,numpnts($(stringfromlist(var_index,str_list)+str_relbl))-1,$getdimlabel($stringfromlist(var_index,str_list),0,var_index1),$(stringfromlist(var_index,str_list)+str_relbl)		endif		var_index1+=1	while(var_index1<numpnts($stringfromlist(var_index,str_list))-1)	var_index+=1while(var_index<itemsinlist(str_list))end