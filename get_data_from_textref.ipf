#pragma rtglobals=1macro get_data_from_textref()pget_data_from_textref()proc pget_data_from_textref(str_input)string str_inputprompt str_input "input?"if(strlen(str_input) == 0)	str_input = "lbls"endifstring str_liststring str_list1string str_refvariable var_indexvariable var_index1variable var_index2var_index = 0pauseupdatedo	str_list = addlistitem(getindexedobjname("",4,var_index),str_list,";",inf)	var_index+=1while(var_index<countobjects("",4))var_index = 0do	movewave $str_input, root:$(stringfromlist(var_index,str_list)):$str_input	setdatafolder(stringfromlist(var_index,str_list))	print "\r"+stringfromlist(var_index,str_list)	var_index1 = 0	do		str_list1 = listmatch(sortlist(wavelist("*",";",""),";",16),$str_input[var_index1])		if(itemsinlist(str_list1)>0)			print replacestring(";",str_list1,"\r")			var_index2 = 0			do				duplicate/o $stringfromlist(var_index2,str_list1),$(stringfromlist(var_index2,str_list1)+"_copy")				movewave $(stringfromlist(var_index2,str_list1)+"_copy"), root:$stringfromlist(var_index2,str_list1)				var_index2+=1			while(var_index2<itemsinlist(str_list1))		endif		var_index1+=1	while(var_index1<dimsize($str_input,0))	movewave $str_input, root:$str_input	setdatafolder root:	var_index+=1while(var_index<itemsinlist(str_list))resumeupdateend