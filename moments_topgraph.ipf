#pragma rtglobals=1macro moments_topgraph()pmoments_topgraph()proc pmoments_topgraph(str_output)string str_outputprompt str_output "output?"if(strlen(str_output) == 0)	str_output = "moments"endifstring str_list = sortlist(tracenamelist("",";",1),";",16)print replacestring(";",str_list,"\r")variable var_indexif(strlen(csrinfo(A)) == 0 || strlen(csrinfo(B)) == 0)	print "no cursors on graph!"else	make/o/n=2 sortwave = nan	sortwave[0] = xcsr(A)	sortwave[1] = xcsr(B)	sort sortwave, sortwave	make/o/n=(itemsinlist(str_list),12) $str_output = nan	setdimlabel 1,0,avgs,$str_output	setdimlabel 1,1,sdevs,$str_output	setdimlabel 1,2,sems,$str_output	setdimlabel 1,3,mins,$str_output	setdimlabel 1,4,minlocs,$str_output	setdimlabel 1,5,maxs,$str_output	setdimlabel 1,6,maxlocs,$str_output	setdimlabel 1,7,sums,$str_output	setdimlabel 1,8,samples,$str_output	setdimlabel 1,9,valids,$str_output	setdimlabel 1,10,NaNs,$str_output	setdimlabel 1,11,infs,$str_output	var_index = 0	pauseupdate	do		wavestats/q/r=(sortwave[0],sortwave[1]) $stringfromlist(var_index,str_list)		$str_output[var_index][%avgs] = v_avg		$str_output[var_index][%sdevs] = v_sdev		$str_output[var_index][%sems] = v_sem		$str_output[var_index][%mins] = v_min		$str_output[var_index][%minlocs] = v_minloc		$str_output[var_index][%maxs] = v_max		$str_output[var_index][%maxlocs] = v_maxloc		$str_output[var_index][%sums] = v_sum		$str_output[var_index][%samples] = v_npnts+v_numnans+v_numinfs		$str_output[var_index][%valids] = v_npnts		$str_output[var_index][%NaNs] = v_numnans		$str_output[var_index][%infs] = v_numinfs		setdimlabel 0,var_index,$stringfromlist(var_index,str_list),$str_output 		var_index += 1	while(var_index<itemsinlist(str_list))	killwaves/z sortwave	edit $str_output.ld	movewindow 452.25,256.25,957,454.25	resumeupdateendifend