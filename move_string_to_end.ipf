#pragma rtGlobals=1Macro move_string_to_end()pmove_string_to_end()proc pmove_string_to_end(str_input,str_target)string str_inputprompt str_input "input waves (default = all) ?"string str_targetprompt str_target "target string [grep] ?"if(strlen(str_input) == 0)	str_input = "*"endifif(strlen(str_target) == 0)	str_target = "(_M[[:digit:]]{2})"endifstring str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")string str_grabvariable var_indexsilent 1pauseupdatevar_index = 0do	splitstring/e=str_target stringfromlist(var_index,str_list),str_grab	rename $stringfromlist(var_index,str_list),$(replacestring(str_grab,stringfromlist(var_index,str_list),""))	rename $(replacestring(str_grab,stringfromlist(var_index,str_list),"")),$(replacestring(str_grab,stringfromlist(var_index,str_list),"")+str_grab)	var_index+=1while(var_index<itemsinlist(str_list))resumeupdateend