#pragma rtGlobals=1macro pearson_corr_matrix_xy()ppearson_corr_matrix_xy()proc ppearson_corr_matrix_xy(str_input1,str_input2)string str_input1prompt str_input1 "input waves #1 ?"string str_input2prompt str_input2 "input waves #2 ?"string str_list1 = sortlist(wavelist(str_input1,";",""),";",16)string str_list2 = sortlist(wavelist(str_input2,";",""),";",16)print replacestring(";",str_list1,"\r")print replacestring(";",str_list2,"\r")variable var_indexvariable var_index1variable var_sizevariable var_max = 0do	var_max = max(var_max,dimsize($stringfromlist(var_index,str_list1),1))	var_index+=1while(var_index<itemsinlist(str_list1))make/o/n=(itemsinlist(str_list1)*var_max) stats_pearson_corr = nanvar_index = 0do	var_index1 = 0	do		duplicate/o/r=[][var_index1] $stringfromlist(var_index,str_list1),temp1		duplicate/o/r=[][var_index1] $stringfromlist(var_index,str_list2),temp2		redimension/n=-1 temp1		redimension/n=-1 temp2		temp1 = (numtype(temp2) == 2) ? NaN : temp1		temp2 = (numtype(temp1) == 2) ? NaN : temp2		wavetransform zapnans temp1		wavetransform zapnans temp2		if(numpnts(temp1)>0 && numpnts(temp2)>0)			stats_pearson_corr[var_index*dimsize($stringfromlist(var_index,str_list1),1)+var_index1] = statscorrelation(temp1,temp2)		endif		setdimlabel 0,var_index*dimsize($stringfromlist(var_index,str_list1),1)+var_index1,$(stringfromlist(var_index,str_list1)+"_v"+num2str(var_index1)+"_vs_"+stringfromlist(var_index,str_list2)+"_v"+num2str(var_index1)),stats_pearson_corr		var_index1+=1	while(var_index1<dimsize($stringfromlist(var_index,str_list1),1))	var_index+=1while(var_index<itemsinlist(str_list1))killwaves/z temp1,temp2end