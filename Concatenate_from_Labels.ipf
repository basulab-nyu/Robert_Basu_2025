#pragma rtGlobals=1macro Concatenate_from_Labels()pConcatenate_from_Labels()proc pConcatenate_from_Labels(str_input,str_label,str_output)string str_inputprompt str_input "input waves ?"string str_labelprompt str_label "label ?"string str_outputprompt str_output "output wave ?"string/g str_list = sortlist(wavelist(str_input,";",""),";",16)print sortlist(wavelist(str_input,"\r",""),"\r",16)make/o/n=(itemsinlist(str_list)) $str_outputvariable/g var_index = 0do	$str_output[var_index] = $stringfromlist(var_index,str_list)[finddimlabel($stringfromlist(var_index,str_list),0,str_label)]	setdimlabel 0,var_index,$nameofwave($stringfromlist(var_index,str_list)),$str_output	var_index+=1while(var_index<itemsinlist(str_list))end