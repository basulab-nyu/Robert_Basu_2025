#pragma rtGlobals=1Macro find_nonZero_matrix()pfind_nonZero_matrix()proc pfind_nonZero_matrix(str_input)string str_inputprompt str_input "input waves ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print sortlist(wavelist(str_input,"\r",""),"\r",16)silent 1pauseupdatevariable/g var_index = 0do	string/g str_waves = stringfromlist(var_index,str_list)	sumdimension/d=0/dest=tempwave $str_waves	make/o/n=(0) $(str_waves+"_spike")	if (sum(tempwave)>0)		variable/g var_scroll = 0		do			if (tempwave[var_scroll] > 0)				duplicate/o/r=[][var_scroll] $str_waves tempcol				wavestats/q tempcol				insertpoints/m=0/v=(v_avg) numpnts($(str_waves+"_spike")),1,$(str_waves+"_spike")				//insertpoints/m=0/v=(tempwave[var_scroll]) numpnts($(str_waves+"_spike")),1,$(str_waves+"_spike")				setdimlabel 0,numpnts($(str_waves+"_spike"))-1,$getdimlabel($str_waves,1,var_scroll),$(str_waves+"_spike")			endif			var_scroll+=1		while(var_scroll < numpnts(tempwave))	endif	var_index+=1while(var_index<itemsinlist(str_list))killwaves/z tempwave, tempcolresumeupdateend