#pragma rtGlobals=1Macro Sort_waves_from_labels_TopTable()pSort_waves_from_labels_TopTable()proc pSort_waves_from_labels_TopTable()string/g str_list = sortlist(wavelist("*",";","WIN:"),";",16)print replacestring(";",str_list,"\r")silent 1pauseupdateif(strlen(str_list)>0)	edit	variable/g var_index = 0	do		make/o/t/n=(numpnts($stringfromlist(var_index,str_list))) $("list_"+stringfromlist(var_index,str_list))		if (exists("str_labels") == 2)			killstrings/z str_labels		endif		string/g str_labels		variable/g var_labels = 0		do			if(grepstring(getdimlabel($stringfromlist(var_index,str_list),0,var_labels),"((?i)[0-9]{6}+[c]{1}+[0-9]{1,2})") == 1)				if (exists("str_grep") == 2)					killstrings/z str_grep				endif				string/g str_grep				splitstring/e=("((?i)[0-9]{6}+[c]{1}+[0-9]{1,2})") getdimlabel($stringfromlist(var_index,str_list),0,var_labels),str_grep				if(strlen(str_labels) == 0)					str_labels = str_grep				else					str_labels = str_labels+";"+str_grep				endif			endif			var_labels+=1		while(var_labels<numpnts($stringfromlist(var_index,str_list)))		$("list_"+stringfromlist(var_index,str_list)) = stringfromlist(p,str_labels,";")		duplicate/o $stringfromlist(var_index,str_list) $(stringfromlist(var_index,str_list)+"_sorted")		duplicate/o $("list_"+stringfromlist(var_index,str_list)) $("list_"+stringfromlist(var_index,str_list)+"_sorted")		sort/a/diml $("list_"+stringfromlist(var_index,str_list)+"_sorted"),$("list_"+stringfromlist(var_index,str_list)+"_sorted"),$(stringfromlist(var_index,str_list)+"_sorted")		appendtotable $(stringfromlist(var_index,str_list)+"_sorted").ld		var_index+=1	while(var_index<itemsinlist(str_list))endifresumeupdateend