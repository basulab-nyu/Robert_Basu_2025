#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro concatenate_waves_groups()pconcatenate_waves_groups()proc pconcatenate_waves_groups(str_input)string str_inputprompt str_input "input waves (textwave) ?"if(strlen(str_input) == 0)	str_input = "wref"endifstring str_liststring str_outputvariable var_indexvar_index = 0do	str_list = ""	str_list = sortlist(wavelist($str_input[var_index],";",""),";",16)	str_output = ""	str_output = $str_input[var_index]	do		str_output = str_output[0,strsearch(str_output,"*",0)-1]+str_output[strsearch(str_output,"*",0)+1,inf]	while(grepstring(str_output,"\*") == 1)	str_output = str_output+"_conc"	str_output = replacestring("__",str_output,"_")	print str_output	print replacestring(";",str_list,"\r")	make/o/n=(0) $str_output	concatenate/np str_list,$str_output	var_index+=1while(var_index<numpnts($str_input))end