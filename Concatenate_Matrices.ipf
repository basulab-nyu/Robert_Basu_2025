#pragma rtGlobals=1Macro Concatenate_Matrices()pCM()proc pCM(str_input,str_output)string str_inputprompt str_input "input waves ?"string str_outputprompt str_output "output wave ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")variable/g var_size = 0variable/g var_index = 0do	if(var_size<dimsize($stringfromlist(var_index,str_list),1))		var_size = dimsize($stringfromlist(var_index,str_list),1)	endif	var_index+=1while(var_index<itemsinlist(str_list))make/o/n=(0,var_size) $str_outputvariable/g var_index = 0do	duplicate/o $stringfromlist(var_index,str_list) tempwave	redimension/n=(dimsize($stringfromlist(var_index,str_list),0),var_size) tempwave	tempwave[][dimsize($stringfromlist(var_index,str_list),1),var_size] = nan	concatenate/np=(0)/dl {tempwave},$str_output	var_index+=1while(var_index<itemsinlist(str_list))killwaves/z tempwaveedit $str_output.ldresumeupdateend