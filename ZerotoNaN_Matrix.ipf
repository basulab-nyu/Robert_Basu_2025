#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro ZerotoNaN_Matrix()pZerotoNaN_Matrix()proc pZerotoNaN_Matrix(str_input)string str_inputprompt str_input "input waves ?"string str_list = sortlist (wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")variable var_indexvariable var_scroll_xvariable var_scroll_yvar_index = 0dosilent 1	duplicate/o $stringfromlist(var_index,str_list) $(stringfromlist(var_index,str_list)+"_NaN")	var_scroll_x = 0	do		var_scroll_y = 0		do			if($(stringfromlist(var_index,str_list)+"_NaN")[var_scroll_x][var_scroll_y] == 0)				$(stringfromlist(var_index,str_list)+"_NaN")[var_scroll_x][var_scroll_y] = NaN			endif		var_scroll_y+=1		while(var_scroll_y < dimsize($stringfromlist(var_index,str_list),1))	var_scroll_x+=1	while (var_scroll_x < dimsize($stringfromlist(var_index,str_list),0))var_index+=1while (var_index<itemsinlist(str_list))beepend