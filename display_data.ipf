#pragma rtglobals=1macro display_data()pdisplay_data()proc pdisplay_data(str_input,str_output,str_folder)string str_inputprompt str_input "input?"string str_outputprompt str_output "output?"string str_folderprompt str_folder "folder?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")variable var_left_gvariable var_top_gvariable var_right_gvariable var_bottom_gvariable var_left_tvariable var_top_tvariable var_right_tvariable var_bottom_tvariable var_graph_lastvariable var_table_laststring str_graph_laststring str_table_laststring str_graph_list = sortlist(winlist("*",";","WIN:1"),";",16)if(strlen(str_graph_list) == 0)	var_left_g = 405	var_top_g = 38	var_right_g = 755.25	var_bottom_g = 353.25else	var_graph_last = itemsinlist(str_graph_list)-1	str_graph_last = winname(0,1)	getwindow $str_graph_last, wsize	var_left_g = v_left + 5.25	var_top_g = v_top + 22.5	var_right_g = v_right + 5.25	var_bottom_g = v_bottom + 22.5endifstring str_table_list = sortlist(winlist("*",";","WIN:2"),";",16)if(strlen(str_table_list) == 0)	var_left_t = 452.25	var_top_t = 256.25	var_right_t = 957	var_bottom_t = 454.25else	var_table_last = itemsinlist(str_table_list)-1	str_table_last = winname(0,2)	getwindow $str_table_last, wsize	var_left_t = v_left + 5.25	var_top_t = v_top + 22.5	var_right_t = v_right + 5.25	var_bottom_t = v_bottom + 22.5endifvariable var_index = 0if(itemsinlist(str_list)>0)	display	pauseupdate	do		if(strlen(str_output) == 0)			appendtograph $stringfromlist(var_index,str_list)			if(strlen(str_folder)!=0)				if (datafolderexists(str_folder)==1)					movewave $stringfromlist(var_index,str_list), root:$(str_folder):				else					newdatafolder $str_folder					movewave $stringfromlist(var_index,str_list), root:$(str_folder):				endif			endif		else			duplicate/o $stringfromlist(var_index,str_list) $(stringfromlist(var_index,str_list)+"_"+str_output)			appendtograph $(stringfromlist(var_index,str_list)+"_"+str_output)			killwaves/z $stringfromlist(var_index,str_list)			if(strlen(str_folder)!=0)				if(datafolderexists(str_folder)==1)					movewave $(stringfromlist(var_index,str_list)+"_"+str_output), root:$(str_folder):				else					newdatafolder $str_folder					movewave $(stringfromlist(var_index,str_list)+"_"+str_output), root:$(str_folder):				endif			endif		endif		var_index+=1	while(var_index<itemsinlist(str_list))	modifygraph rgb=(0,0,0)	resumeupdate	movewindow var_left_g,var_top_g,var_right_g,var_bottom_g	showinfo	showtools/aendifend