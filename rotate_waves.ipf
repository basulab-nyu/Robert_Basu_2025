#pragma rtGlobals=1Macro rotate_waves()protate_waves()proc protate_waves(str_input,str_pivot,str_dup)string str_inputprompt str_input "input waves ?"string str_pivotprompt str_pivot "rotation point [0:1] ?"string str_dupprompt str_dup "overwrite (0) or duplicate (1, default)?"if(strlen(str_dup) == 0)	str_dup = "1"endifstring str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")silent 1pauseupdatevariable var_index = 0do	if(str2num(str_dup) == 1)		duplicate/o $stringfromlist(var_index,str_list) $(stringfromlist(var_index,str_list)+"_r")		rotate floor(dimsize($stringfromlist(var_index,str_list),0)*str2num(str_pivot)),$(stringfromlist(var_index,str_list)+"_r")		setscale/p x,dimoffset($stringfromlist(var_index,str_list),0),dimdelta($stringfromlist(var_index,str_list),0),$(stringfromlist(var_index,str_list)+"_r")	else		rotate floor(dimsize($stringfromlist(var_index,str_list),0)/str2num(str_pivot)),$stringfromlist(var_index,str_list)		setscale/p x,dimoffset($stringfromlist(var_index,str_list),0),dimdelta($stringfromlist(var_index,str_list),0),$stringfromlist(var_index,str_list)	endif	var_index+=1while(var_index<itemsinlist(str_list))resumeupdate