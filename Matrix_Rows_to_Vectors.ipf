#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro Matrix_Rows_to_Vectors()pMatrix_Rows_to_Vectors()proc pMatrix_Rows_to_Vectors(str_input)string str_inputprompt str_input "input waves ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print sortlist(wavelist(str_input,"\r",""),"\r",16)variable/g var_index = 0dosilent 1	string/g str_waves = stringfromlist(var_index,str_list)	variable/g var_scroll = 0	do		if (strlen(getdimlabel($str_waves,0,var_scroll)) > 0)			if(grepstring(getdimlabel($str_waves,0,var_scroll),"((?i)[0-9]{6}+[c]{1}+[0-9]{1,2})") == 1)				if(exists("str_grep") == 2)					killstrings/z str_grep				endif				string/g str_grep				splitstring/e=("((?i)[0-9]{6}+[c]{1}+[0-9]{1,2})") getdimlabel($str_waves,0,var_scroll),str_grep				make/n=(dimsize($str_waves,1)) $(nameofwave($str_waves)+"_"+str_grep) = nan				copydimlabels/COLS=0 $str_waves,$(nameofwave($str_waves)+"_"+str_grep)				duplicate/o $str_waves, tempM				matrixtranspose tempM				$(nameofwave($str_waves)+"_"+str_grep) = tempM[p][var_scroll]			else				make/n=(dimsize($str_waves,1)) $(nameofwave($str_waves)+"_"+getdimlabel($str_waves,0,var_scroll)) = nan				copydimlabels/COLS=0 $str_waves,$(nameofwave($str_waves)+"_"+getdimlabel($str_waves,0,var_scroll))				duplicate/o $str_waves, tempM				matrixtranspose tempM				$(nameofwave($str_waves)+"_"+getdimlabel($str_waves,0,var_scroll)) = tempM[p][var_scroll]			endif		else			make/n=(dimsize($str_waves,1)) $(nameofwave($str_waves)+"_"+num2str(var_scroll)) = nan			copydimlabels/COLS=0 $str_waves,$(nameofwave($str_waves)+"_"+num2str(var_scroll))			duplicate/o $str_waves, tempM			matrixtranspose tempM			$(nameofwave($str_waves)+"_"+num2str(var_scroll)) = tempM[p][var_scroll]		endif	var_scroll+=1	while(var_scroll<dimsize($str_waves,0))var_index += 1while(var_index<itemsinlist(str_list))killwaves tempMend