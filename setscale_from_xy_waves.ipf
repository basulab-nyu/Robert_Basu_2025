#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro setscale_from_xy_waves()psetscale_from_xy_waves()proc psetscale_from_xy_waves(str_input)string str_inputprompt str_input "input waves ?"string str_list_x = listmatch(sortlist(wavelist(str_input,";",""),";",16),"*_x")string str_list_y = listmatch(sortlist(wavelist(str_input,";",""),";",16),"*_y")print replacestring(";",str_list_x,"\r")print replacestring(";",str_list_y,"\r")silent 1variable var_index = 0do	duplicate/o $stringfromlist(var_index,str_list_x) tempwave	differentiate tempwave	wavestats/q tempwave	setscale/p x,$stringfromlist(var_index,str_list_x)[0],v_avg, $stringfromlist(var_index,str_list_y)	var_index+=1while(var_index<itemsinlist(str_list_x))	killwaves/z tempwaveend