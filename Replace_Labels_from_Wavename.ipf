#pragma rtGlobals=1Macro Replace_Labels_from_Wavename()pReplace_Labels_from_Wavename()proc pReplace_Labels_from_Wavename(str_input,str_dim)string str_inputprompt str_input "input waves ?"string str_dimprompt str_dim "label dimension ?"string/g str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")if(strlen(str_dim) == 0)	variable/g var_dim = 0else	variable/g var_dim = str2num(str_dim)endifvariable/g var_index = 0do	variable/g var_labels = 0	do		if (exists("str_grep") == 2)			killstrings/z str_grep		endif		string/g str_grep		splitstring/e=("((?i)[0-9]{6}+[c]{1}+[0-9]{1,2})") getdimlabel($stringfromlist(var_index,str_list),var_dim,var_labels),str_grep		string/g str_newlabel = stringfromlist(var_index,str_list)+"_"+str_grep		setdimlabel var_dim,var_labels,$str_newlabel,$stringfromlist(var_index,str_list)		var_labels+=1	while(var_labels<dimsize($stringfromlist(var_index,str_list),var_dim))	var_index+=1while(var_index<itemsinlist(str_list))end