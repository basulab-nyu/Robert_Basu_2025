#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro Matrix_3D_XZ_to_2D()pMatrix_3D_XZ_to_2D()proc pMatrix_3D_XZ_to_2D(str_input)string str_inputprompt str_input "input waves ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")variable/g var_index = 0do	variable/g var_col = 0	do		make/o/n=(dimsize($stringfromlist(var_index,str_list),2),dimsize($stringfromlist(var_index,str_list),0)) $(stringfromlist(var_index,str_list)+"_"+getdimlabel($stringfromlist(var_index,str_list),1,var_col)) = nan		variable/g var_lay = 0		do			$(stringfromlist(var_index,str_list)+"_"+getdimlabel($stringfromlist(var_index,str_list),1,var_col))[][var_lay] = $stringfromlist(var_index,str_list)[var_lay][var_col][p]			var_lay+=1		while(var_lay<dimsize($stringfromlist(var_index,str_list),2))		copydimlabels/rows=1/layr=0 $stringfromlist(var_index,str_list),$(stringfromlist(var_index,str_list)+"_"+getdimlabel($stringfromlist(var_index,str_list),1,var_col))		var_col+=1	while(var_col<dimsize($stringfromlist(var_index,str_list),1))	var_index+=1while(var_index<itemsinlist(str_list))end