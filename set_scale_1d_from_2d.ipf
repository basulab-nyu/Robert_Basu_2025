#pragma rtGlobals=1Macro set_scale_1d_from_2d()pset_scale_1d_from_2d()proc pset_scale_1d_from_2d(str_input,str_ref)string str_inputprompt str_input "input waves ?"string str_refprompt str_ref "reference waves ?"if(strlen(str_input) == 0)	str_input = "w_AP_*"endifif(strlen(str_ref) == 0)	str_ref = "m_APamp_t_*"endifstring str_list = sortlist(wavelist(str_input,";",""),";",16)str_list = addlistitem(sortlist(wavelist("w_frq_*",";",""),";",16),str_list)string str_reflist = sortlist(wavelist(str_ref,";",""),";",16)string str_subliststring str_matchvariable var_index = 0variable var_index2do	print "\nreference wave: "+stringfromlist(var_index,str_reflist)	str_match = stringfromlist(var_index,str_reflist)[strsearch(str_ref,"*",0),inf]	str_match = "*"+str_match	str_sublist = listmatch(str_list,str_match)	print "\nscaled waves:"		print replacestring(";",str_sublist,"\r")	var_index2 = 0	do		setscale/p x,dimoffset($stringfromlist(var_index,str_reflist),1),dimdelta($stringfromlist(var_index,str_reflist),1),$stringfromlist(var_index2,str_sublist)		var_index2+=1	while(var_index2<itemsinlist(str_sublist))	var_index+=1while(var_index<itemsinlist(str_reflist))