#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro matrix_sort_cols()pmatrix_sort_cols()proc pmatrix_sort_cols(str_input,str_sort)string str_inputprompt str_input "input waves ?"string str_sortprompt str_sort "sorting waves ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)print replacestring(";",str_list,"\r")string str_idxlist = sortlist(wavelist(str_sort,";",""),";",16)print replacestring(";",str_idxlist,"\r")variable var_indexvariable var_index1var_index = 0do	duplicate/o $stringfromlist(var_index,str_list) $(stringfromlist(var_index,str_list)+"_sort")	$(stringfromlist(var_index,str_list)+"_sort") = nan	duplicate/o $stringfromlist(var_index,str_idxlist) idx	idx = p	sort/r $stringfromlist(var_index,str_idxlist),idx	var_index1 = 0	do		$(stringfromlist(var_index,str_list)+"_sort")[][var_index1] = $stringfromlist(var_index,str_list)[p][idx[var_index1]]		var_index1+=1	while(var_index1<dimsize($stringfromlist(var_index,str_list),1))	killwaves/z idx	var_index+=1while(var_index<itemsinlist(str_list))end