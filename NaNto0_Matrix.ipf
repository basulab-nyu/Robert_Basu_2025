#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro NaNto0_Matrix()pNaNto0_Matrix()proc pNaNto0_Matrix(str_input)string str_inputprompt str_input "input waves ?"string str_list_input = sortlist (wavelist(str_input,";",""),";",16)string str_list_input_print = sortlist (wavelist(str_input,"\r",""),"\r",16)print str_list_input_printvariable/g var_index = 0dosilent 1	string/g str_waves = stringfromlist(var_index,str_list_input)	duplicate/o $str_waves $(nameofwave($str_waves)+"_0")	variable/g var_scroll_x = 0	do		variable/g var_scroll_y = 0		do			if (numtype($(nameofwave($str_waves)+"_0")[var_scroll_x][var_scroll_y]) == 2)				$(nameofwave($str_waves)+"_0")[var_scroll_x][var_scroll_y] = 0			endif		var_scroll_y+=1		while(var_scroll_y < dimsize($str_waves,1))	var_scroll_x+=1	while (var_scroll_x < dimsize($str_waves,0))var_index+=1while (var_index < itemsinlist(str_list_input))beepend