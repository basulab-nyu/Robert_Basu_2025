#pragma rtGlobals=1		// Use modern global access method.#include <Waves Average>macro XY_MatrixToWaves()pXY_MatrixToWaves()proc pXY_MatrixToWaves(str_input,str_x,str_y,str_output)string str_inputprompt str_input "input waves (2D) ?"string str_xprompt str_x "x target ?"string str_yprompt str_y "y target ?"string str_outputprompt str_output "output wave ?"string/g str_list = sortlist (wavelist(str_input,";",""),";",16)print sortlist (wavelist(str_input,"\r",""),"\r",16)variable/g var_x = str2num(str_x)variable/g var_y = str2num(str_y)make/o/n=(itemsinlist(str_list)) $str_output = nansilent 1pauseupdatevariable/g var_index = 0do	$str_output[var_index] = $stringfromlist(var_index,str_list)[var_x][var_y]	setdimlabel 0,var_index,$nameofwave($stringfromlist(var_index,str_list)),$str_output	var_index += 1while (var_index < itemsinlist(str_list))resumeupdateend