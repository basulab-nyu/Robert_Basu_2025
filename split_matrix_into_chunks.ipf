#pragma rtGlobals=1Macro split_matrix_into_chunks()psplit_matrix_into_chunks()proc psplit_matrix_into_chunks(str_input,str_txt,str_chunk)string str_inputprompt str_input "input data waves ?"string str_txtprompt str_txt "input text waves ?"string str_chunkprompt str_chunk "chunk size ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)string str_ref = sortlist(wavelist(str_txt,";",""),";",16)print replacestring(";",str_list,"\r")print replacestring(";",str_ref,"\r")string str_reg = "((?i)[d]{1}+[0-9]{1,2})"string str_lblvariable var_indexvariable var_index1variable var_index2var_index = 0do	var_index1 = 0	do		var_index2 = 0		do			str_lbl = ""			splitstring/e=str_reg $stringfromlist(var_index,str_ref)[var_index1][var_index2],str_lbl			var_index2+=1		while(strlen(str_lbl) == 0)		duplicate/o/r=[var_index1,var_index1+str2num(str_chunk)-1][] $stringfromlist(var_index,str_list) $(stringfromlist(var_index,str_list)+"_"+str_lbl)		duplicate/o/r=[var_index1,var_index1+str2num(str_chunk)-1][] $stringfromlist(var_index,str_ref) $(stringfromlist(var_index,str_ref)+"_"+str_lbl)		var_index1+=str2num(str_chunk)	while(var_index1<dimsize($stringfromlist(var_index,str_list),0))	var_index+=1while(var_index<itemsinlist(str_list))end