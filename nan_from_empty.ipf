#pragma rtGlobals=1Macro nan_from_empty()pnan_from_empty()proc pnan_from_empty(str_input,str_lbl)string str_inputprompt str_input "input waves ?"string str_lblprompt str_lbl "reference waves (text) ?"string str_list = sortlist(wavelist(str_input,";",""),";",16)string str_ref = sortlist(wavelist(str_lbl,";",""),";",16)print replacestring(";",str_list,"\r")print replacestring(";",str_ref,"\r")variable var_indexvariable var_index1variable var_index2var_index = 0do	var_index1 = 0	do		var_index2 = 0		do			if(strlen($stringfromlist(var_index,str_ref)[var_index1][var_index2]) == 0)				$stringfromlist(var_index,str_list)[var_index1][var_index2] = nan			endif			var_index2+=1		while(var_index2<dimsize($stringfromlist(var_index,str_ref),1))		var_index1+=1	while(var_index1<dimsize($stringfromlist(var_index,str_ref),0))	var_index1 = dimsize($stringfromlist(var_index,str_ref),0)	do		$stringfromlist(var_index,str_list)[var_index1][] = nan		var_index1+=1	while(var_index1<dimsize($stringfromlist(var_index,str_list),0))	var_index+=1while(var_index<itemsinlist(str_list))end